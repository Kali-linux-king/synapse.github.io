// ========================
//  Floating Animations
// ========================

/// Base floating animation
/// @param {Number} $intensity - Movement intensity (px)
/// @param {Number} $duration - Animation duration (s)
@mixin floating($intensity: 10px, $duration: 6s) {
  transform: translateY(0);
  animation: floating $duration ease-in-out infinite;
  
  @keyframes floating {
    0%, 100% {
      transform: translateY(0) rotate(0deg);
    }
    50% {
      transform: translateY(-$intensity) rotate(2deg);
    }
  }
}

/// Floating animation with shadow
/// @param {Number} $intensity - Vertical movement (px)
/// @param {Number} $blur - Shadow blur radius (px)
@mixin floating-with-shadow($intensity: 15px, $blur: 20px) {
  position: relative;
  @include floating($intensity);
  
  &::before {
    content: '';
    position: absolute;
    bottom: -10px;
    left: 5%;
    width: 90%;
    height: 20px;
    background: radial-gradient(ellipse at center, rgba(0,0,0,0.4) 0%, transparent 70%);
    filter: blur($blur);
    animation: floating-shadow $duration ease-in-out infinite;
    z-index: -1;
    opacity: 0.3;
  }
  
  @keyframes floating-shadow {
    0%, 100% {
      transform: scale(1);
      opacity: 0.3;
    }
    50% {
      transform: scale(0.95);
      opacity: 0.2;
    }
  }
}

/// Subtle hover float effect
/// @param {Number} $intensity - Hover lift amount (px)
@mixin hover-float($intensity: 5px) {
  transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  
  &:hover {
    transform: translateY(-$intensity);
  }
}

/// 3D floating effect with perspective
/// @param {Number} $intensity - Movement intensity (px)
@mixin floating-3d($intensity: 15px) {
  transform-style: preserve-3d;
  transform: perspective(500px);
  animation: floating-3d ($duration * 1.5) ease-in-out infinite;
  
  @keyframes floating-3d {
    0%, 100% {
      transform: perspective(500px) translateY(0) rotateX(0deg) rotateY(0deg);
    }
    50% {
      transform: perspective(500px) translateY(-$intensity) rotateX(2deg) rotateY(2deg);
    }
  }
}

/// Floating on scroll (appears when in viewport)
/// @param {Number} $distance - Travel distance (px)
@mixin scroll-float($distance: 40px) {
  opacity: 0;
  transform: translateY($distance);
  transition: opacity 0.6s ease-out, transform 0.6s cubic-bezier(0.22, 0.61, 0.36, 1);
  
  &.is-visible {
    opacity: 1;
    transform: translateY(0);
  }
}

// ========================
//  Animation Modifiers
// ========================

/// Delay floating animation
/// @param {Number} $delay - Delay time (s)
@mixin floating-delay($delay) {
  animation-delay: $delay;
}

/// Faster floating animation
@mixin floating-fast {
  animation-duration: 3s;
}

/// Slower floating animation
@mixin floating-slow {
  animation-duration: 9s;
}

/// Reduced motion adaptation
@mixin floating-reduced-motion {
  @media (prefers-reduced-motion: reduce) {
    animation: none !important;
    transform: none !important;
  }
}

// ========================
//  Component-Specific Floating Effects
// ========================

/// Floating card effect
@mixin floating-card {
  @include floating(15px);
  @include shadow('lg');
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  
  &:hover {
    @include shadow('xl');
    transform: translateY(-5px) rotate(1deg);
  }
  
  @include floating-reduced-motion;
}

/// Floating icon effect
@mixin floating-icon {
  @include floating(8px, 4s);
  display: inline-block;
  
  @include floating-reduced-motion;
}

/// Floating navigation item
@mixin floating-nav-item {
  @include hover-float(3px);
  
  &::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 0;
    height: 2px;
    background: currentColor;
    transition: width 0.3s ease;
  }
  
  &:hover::after {
    width: 100%;
  }
}